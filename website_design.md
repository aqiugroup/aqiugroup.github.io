# 《山海经》地理信息交互式网站设计方案

## 整体架构

### 网站结构
- 首页/地图页面（主界面）
- 关于页面（项目介绍、数据来源说明）
- 帮助页面（使用指南）

### 技术选择
- 前端框架：React（使用create_react_app创建）
- 地图库：Leaflet.js（开源地图库，支持自定义图层和交互）
- UI组件：shadcn/ui（现代化UI组件库）
- 图标：Lucide icons（简洁美观的图标集）
- 数据可视化：Recharts（用于展示统计数据）

## 主界面设计

### 布局结构
```
+--------------------------------------------------+
|                  顶部导航栏                       |
+--------------------------------------------------+
|        |                                |        |
|        |                                |        |
| 左侧   |           地图区域              | 右侧   |
| 筛选   |                                | 详情   |
| 面板   |                                | 面板   |
|        |                                |        |
|        |                                |        |
+--------------------------------------------------+
|                  底部信息栏                       |
+--------------------------------------------------+
```

### 顶部导航栏
- 网站标题：《山海经》地理信息交互式地图
- 地图切换按钮：古代风格/现代地理（带有古风设计的切换开关）
- 搜索框：支持按名称搜索实体
- 关于/帮助按钮

### 左侧筛选面板
- 实体类别筛选：
  - 山川（默认选中）
  - 河流
  - 野兽
  - 树木
  - 神仙/山神
- 分卷筛选：
  - 南山经
  - 西山经
  - 北山经
  - 东山经
  - 中山经
- 高级筛选（可折叠）：
  - 按特性筛选（如：有药用价值、有神奇功效等）
  - 按现代地理位置筛选（省份）

### 地图区域
- 两种地图模式：
  1. **古风地图模式**：
     - 仿古地图风格，使用古代山水画技法
     - 标记山川、河流位置
     - 使用古风图标表示不同类型的实体
     - 支持缩放和平移
  
  2. **现代地图模式**：
     - 基于现代中国地图
     - 使用省界和主要地形特征
     - 标记实体在现代地理中的位置
     - 支持缩放和平移

- 地图交互：
  - 悬停：显示实体名称
  - 点击：在右侧详情面板显示详细信息
  - 缩放控制：支持鼠标滚轮和缩放按钮
  - 图例：显示不同图标的含义

### 右侧详情面板
- 实体基本信息：
  - 名称（中文）
  - 类别（山川/河流/野兽/树木/神仙）
  - 出处（具体卷名）
  - 原文引用（带有古风设计的引用框）
  - 现代解读（白话文描述）
  
- 地理位置信息：
  - 古代描述
  - 现代对应位置
  - 相关争议（如有）
  
- 相关实体：
  - 同一区域的其他实体
  - 相关联的神话传说
  
- 图片/插图：
  - 古籍插图（如有）
  - 现代重现图

### 底部信息栏
- 数据来源说明
- 版权信息
- 项目团队

## 视觉设计

### 色彩方案
- **主色调**：古朴的棕色和米色系
  - 主色：#8C6D46（深棕色）
  - 辅助色：#D9C7B8（米色）
  - 强调色：#BF4342（朱砂红）
  - 背景色：#F5F0E6（淡米色）

### 字体选择
- 标题：使用仿宋体，营造古籍氛围
- 正文：使用简洁现代的无衬线字体，保证可读性
- 引用文本：使用楷体，区分原文引用

### 图标设计
- 山川：山形图标，古风线条
- 河流：水波纹图标
- 野兽：动物剪影，古风线条
- 树木：树形图标，古风线条
- 神仙：人形图标，古风线条

### 地图标记
- 使用不同颜色和形状区分不同类型的实体
- 大小可根据实体的重要性或提及频率调整
- 聚类处理：当缩放级别较小时，将相近位置的多个实体聚合显示

## 交互功能

### 地图切换
- 平滑过渡动画
- 保持当前视角和选中的实体
- 切换按钮设计为古风卷轴形式

### 筛选功能
- 实时筛选：选择筛选条件后立即更新地图显示
- 多条件组合：支持多个筛选条件同时生效
- 筛选结果计数：显示符合条件的实体数量

### 搜索功能
- 支持模糊搜索
- 搜索结果下拉列表
- 点击搜索结果自动定位到地图位置
- 搜索历史记录

### 详情查看
- 点击地图标记打开详情面板
- 详情面板可展开/收起
- 支持在详情中查看相关实体并快速跳转

### 响应式设计
- 适配桌面端不同分辨率
- 在小屏幕上自动调整布局（如面板可折叠）

## 数据结构

### 实体数据模型
```json
{
  "id": "unique_id",
  "name": "实体名称",
  "type": "mountain|river|beast|plant|deity",
  "source": {
    "book": "南山经|西山经|北山经|东山经|中山经",
    "chapter": "具体篇章",
    "original_text": "原文引用"
  },
  "description": {
    "ancient": "古代描述",
    "modern": "现代解读"
  },
  "location": {
    "ancient": {
      "description": "古代位置描述",
      "coordinates": [x, y] // 在古地图上的坐标
    },
    "modern": {
      "province": "现代省份",
      "description": "现代位置描述",
      "coordinates": [longitude, latitude] // 经纬度
    }
  },
  "properties": {
    "medicinal": true|false, // 是否有药用价值
    "magical": true|false, // 是否有神奇功效
    "dangerous": true|false // 是否危险
  },
  "related_entities": ["entity_id1", "entity_id2"], // 相关实体ID
  "images": {
    "ancient": "古籍插图URL",
    "modern": "现代重现图URL"
  }
}
```

### 地图数据模型
```json
{
  "ancient_map": {
    "base_url": "古地图底图URL",
    "bounds": [[x1, y1], [x2, y2]], // 地图边界
    "initial_view": {
      "center": [x, y],
      "zoom": 5
    }
  },
  "modern_map": {
    "base_url": "现代地图底图URL",
    "bounds": [[lat1, lng1], [lat2, lng2]], // 地图边界
    "initial_view": {
      "center": [lat, lng],
      "zoom": 5
    }
  }
}
```

## 实现计划

1. 创建基础项目结构
2. 实现地图组件和底图切换
3. 导入实体数据
4. 实现筛选和搜索功能
5. 开发详情面板
6. 设计并应用视觉风格
7. 优化交互体验
8. 测试和调整

## 用户体验考虑

1. 首次访问引导：简短的使用指南
2. 加载状态：优雅的加载动画
3. 错误处理：友好的错误提示
4. 性能优化：大量标记的高效渲染
5. 可访问性：支持键盘导航和屏幕阅读器
